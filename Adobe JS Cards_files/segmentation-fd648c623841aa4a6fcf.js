(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4780],{82093:function(e,t,n){"use strict";n.d(t,{$G:function(){return Z},O0:function(){return y},sH:function(){return S}});var o=n(67294),r=n(37244),i=n.n(r),a=n(33386),l=n(54147),u=n(69927),d=n(79885),c=n(44596),s=n(96029);function f(e){var t,n;return!(null===e||void 0===e||null===(t=e.data)||void 0===t||!t.price)&&!(null===e||void 0===e||null===(n=e.data)||void 0===n||!n.formatString)}var p=n(65455),v=n(18983),m=n(34937),g=n(52148),E=n(37703),T=n(10315),b=o.createElement,O=function(e){var t=e.onSelectionChange,n=e.bundleData,r=e.addIntentDrivenProductContent,v=n.offers,T=(0,o.useState)(null===n||void 0===n?void 0:n.selectedOfferId),O=T[0],y=T[1],C=(0,E.useSelector)(s.By)===i().app.LAYOUT.values.SLIM,S=(0,l.VB)(l.yr),I=!(0,l._8)(l.S1)&&v.length>2,h=(0,E.useSelector)(p.Uh);var _={data:(0,c.tp)(v,r,h),options:{bestValueOfferId:(0,c.ef)(v),selectedOfferId:(0,c.B8)(O,v),on_selection_change:function(e){if(e.selected){var n=e.data.data.offerId;y(n),t(n)}},viewMode:S||C&&I?d.wO.MOBILE:d.wO.DESKTOP,showProductLearnMoreLink:r}},N=(0,g.Cd)(),A=N.validateOfferContent,P=N.validateContentEntry;function D(e){var t=[{name:"name"},{name:"icons",validate:function(e){return e.length>=1}},{name:"startingPrice",validate:f},{name:"strikethroughPrice",validate:function(e){return null===e||f(e)}}];e.forEach((function(e){return A("BundleSelection",t,e)}))}var k=(0,m.useContentEntry)(u.BundleContentModel);return(0,o.useEffect)((function(){D(_.data),P(k)}),[]),b("div",{className:a.Z.bundleSelectionContainer},b(d.go,_))},y=(0,T.n)("bundleContent",u.BundleContentModel)(O),C=(0,T.n)("languageWordOrder",v.LanguageWordOrderModel)((function(){return null})).queryCollection;y.queryCollection.merge(C);var S=(0,T.n)("bundleContent",u.BundleContentModel)(O),I=n(91229),h=n(26265),_=n(63905),N=n(78254),A=n(26075),P=(0,m.defineContents)("BundleDescription",{description:{id:"description",type:"object",placeholderContent:{json:[{nodeType:"paragraph",content:[{nodeType:"text",value:"Learn more about "},{nodeType:"link",value:"{product1}",data:{href:"#",class:"bundle-description-product-1-link"}},{nodeType:"text",value:" or "},{nodeType:"link",value:"{product2}",data:{href:"#",class:"bundle-description-product-2-link"}},{nodeType:"text",value:"."}]}]}},threeProductsDescription:{id:"threeProductsDescription",type:"object",placeholderContent:{json:[{nodeType:"paragraph",content:[{nodeType:"text",value:"Learn more about "},{nodeType:"link",data:{href:"#",class:"bundle-description-product-1-link"},value:"{product1}"},{nodeType:"text",value:", "},{nodeType:"link",data:{href:"#",class:"bundle-description-product-2-link"},value:"{product2}"},{nodeType:"text",value:" or "},{nodeType:"link",data:{href:"#",class:"bundle-description-product-3-link"},value:"{product3}"},{nodeType:"text",value:"."}]}]}},oneProductDescription:{id:"oneProductDescription",type:"object",placeholderContent:{json:[{nodeType:"paragraph",content:[{nodeType:"text",value:"Learn more about "},{nodeType:"link",data:{href:"#",class:"bundle-description-product-1-link"},value:"{product1}"},{nodeType:"text",value:"."}]}]}}}),D=n(298),k=n(47758),R=n(6119),L=n(52253),U=n(56),w=n(30488),j=n(12510),M=n(52007),G=n(73113),x=o.createElement;function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){(0,h.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z=(0,T.n)("bundleDescription",P)((function(e){var t=e.bundleDescriptionVariables,n=e.locale,o=e.offerContents,r=e.productArrangementCodes,i=e.productLogoUrls,a=(0,j.useStore)(),l=(0,U.TZ)(),u=(0,w.useCommerceAppContext)().hostCtxId,d=(0,A.x)(),c=(0,G.withDialog)((function(e){var t,n,c,s=e.control,f=e.onClose,p=null===s||void 0===s||null===(t=s[0])||void 0===t||null===(n=t.className)||void 0===n||null===(c=n.match(/\d/))||void 0===c?void 0:c[0],v=null===o||void 0===o?void 0:o[p],m=null===r||void 0===r?void 0:r[p],g=null===i||void 0===i?void 0:i[p];return x(R.l,{onClose:f,offerContent:v,productArrangementCode:m,productLogoUrls:g,commerceAppContext:u,errorBoundaryComponentName:"BundleDescription",store:a,apolloClient:d,adobeLaunchAnalytics:l,features:(0,k.h)()})}),{onClick:function(e){return e.className.includes("bundle-description-product-1-link")||e.className.includes("bundle-description-product-2-link")||e.className.includes("bundle-description-product-3-link")}})((function(e){var o=e.onClick,r=(0,m.useContentEntry)(P),i=r.get(P.description),a=r.get(P.threeProductsDescription),l=r.get(P.oneProductDescription),u=(0,M.useTrackEvent)(),d=function(e){var t=e.target.innerText,n=(0,D.W6)("".concat(t,":").concat(L.ps.LEARN_MORE_CLICK),L.ps.LEARN_MORE_ACTION);u(n),null===o||void 0===o||o(e.target)},c=function(e,t,n,o,r){var i=e;return 3===o.totalNumberOfBundleOffers?i=t:1===o.totalNumberOfBundleOffers&&(i=n),{data:i,json:i.json,placeHolderContext:H({},o),locale:r}}(i,a,l,t,n);return x("div",{className:_.Z.bundleDescription,role:"button",onKeyDown:function(e){13!==e.keyCode&&"Enter"!==e.key||(e.preventDefault(),d(e))},onClick:d,"data-testid":"bundle-description-box"},x(N.h,(0,I.Z)({},c,{parentComponentName:"bundleDescription"})))}));return x(c,null)}))},78254:function(e,t,n){"use strict";n.d(t,{h:function(){return v}});var o,r,i,a,l=n(26265),u=n(30403),d=n(67294);!function(e){e.PARAGRAPH="paragraph",e.HEADER="header",e.UNORDERED_LIST="unordered-list"}(o||(o={})),function(e){e.HEADING_ONE="h1",e.HEADING_TWO="h2",e.HEADING_THREE="h3"}(r||(r={})),function(e){e.TEXT="text",e.LINK="link",e.LIST_ITEM="list-item"}(i||(i={})),function(e){e.BOLD="bold",e.ITALIC="italic",e.UNDERLINE="underline"}(a||(a={}));var c,s,f=n(19291),p=d.createElement,v=function(e){var t,n,c,s,v=e.parentComponentName;function m(e){return null===e||void 0===e?void 0:e.map((function(e,t){return function(e,t){return b[e.nodeType](e,null,t)}(e,t)}))}function g(e,t){return"".concat(v,"_").concat(e,"_").concat(t)}var E=(t={},(0,l.Z)(t,o.PARAGRAPH,(function(e,t,n){return p("span",{key:g(o.PARAGRAPH,n)},t)})),(0,l.Z)(t,o.HEADER,(function(e,t,n){return T[e.style](e,t,n)})),(0,l.Z)(t,o.UNORDERED_LIST,(function(e,t,n){return p("ul",{key:g(o.UNORDERED_LIST,n)},t)})),t),T=(n={},(0,l.Z)(n,r.HEADING_ONE,(function(e,t,n){return p("h1",{key:g(r.HEADING_ONE,n)},t)})),(0,l.Z)(n,r.HEADING_TWO,(function(e,t,n){return p("h2",{key:g(r.HEADING_TWO,n)},t)})),(0,l.Z)(n,r.HEADING_THREE,(function(e,t,n){return p("h3",{key:g(r.HEADING_THREE,n)},t)})),n),b=(c={},(0,l.Z)(c,i.TEXT,(function(e,t,n){var o,r=y(e.value);return null===(o=e.format)||void 0===o||o.variants.map((function(t){return r=O[t](e,r,n)})),r})),(0,l.Z)(c,i.LINK,(function(e,t,n){var o,r,a,l,u;return y(decodeURIComponent(null===(o=e.data)||void 0===o?void 0:o.href))?p("a",{href:y(decodeURIComponent(null===(a=e.data)||void 0===a?void 0:a.href)),target:null===(l=e.data)||void 0===l?void 0:l.target,className:null===(u=e.data)||void 0===u?void 0:u.class,key:g(i.LINK,n)},y(e.value)):p("span",{key:g(i.LINK,n),className:null===(r=e.data)||void 0===r?void 0:r.class},y(e.value))})),(0,l.Z)(c,i.LIST_ITEM,(function(e,t,n){return p("li",{key:g(i.LIST_ITEM,n)},m(e.content))})),c),O=(s={},(0,l.Z)(s,a.BOLD,(function(e,t,n){return p("b",{key:g(a.BOLD,n)},t)})),(0,l.Z)(s,a.ITALIC,(function(e,t,n){return p("i",{key:g(a.ITALIC,n)},t)})),(0,l.Z)(s,a.UNDERLINE,(function(e,t,n){return p("u",{key:g(a.UNDERLINE,n)},t)})),s);function y(t){var n=new u.default(t,e.locale||"en-US").format(e.placeHolderContext);return(0,f.Xv)(n)}return p(d.Fragment,null," ",null!==e&&void 0!==e&&e.json?e.json.map((function(e,t){return function(e,t){return E[e.nodeType](e,m(e.content),t)}(e,t)})):e.plaintext," ")},m=(n(96168),n(44159),n(34937));!function(e){e.PARAGRAPH="paragraph",e.HEADING_ONE="heading-one",e.HEADING_TWO="heading-two"}(c||(c={})),function(e){e.BOLD="bold",e.ITALIC="italic",e.UNDERLINE="underline",e.HYPERLINK="hyperlink"}(s||(s={}));var g=(0,m.defineContents)("RichTextChild",{text:{id:"text",type:"string"},bold:{id:"bold",type:"string"},italic:{id:"italic",type:"string"},underline:{id:"underline",type:"string"},hyperlink:{id:"hyperlink",type:"string"},class:{id:"class",type:"string"},link:{id:"link",type:"string"},tooltip:{id:"tooltip",type:"string"}});(0,m.defineContents)("RichText",{type:{id:"type",type:"string"},children:{id:"children",type:g,isArray:!0}}),d.createElement},67281:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Xe}});var o=n(809),r=n.n(o),i=n(26265),a=n(92447),l=n(67294),u=n(37244),d=n.n(u),c=n(19291),s=n(99246),f=n(84054),p=n(65455),v=n(36902),m=n(94797),g=n(49644),E=n(90325),T=n(58886),b=n(47565),O=n(96029),y=n(61792),C=n(57332),S="SegmentationChallenger__bundleSelector__wibtQ",I=n(14834),h=n(65625),_=n(7655),N=n(42861),A=n(82093),P=n(1025),D=n(23996),k=n(2385),R=n(37629),L=n(52253),U=n(41681),w=n(298),j=n(11426),M=n(62482),G=n(34937),x=(0,G.defineContents)("SegmentationChallengerPageContentType",{pageTitle:{id:"pageTitle",type:"string",placeholderContent:"{ type, select,\n        DAY {Pick a plan - your first {trialTerm, plural, =1 {day is} other {# days are}} free.}\n        WEEK {Pick a plan - your first {trialTerm, plural, =1 {week is} other {# weeks are}} free.}\n        MONTH {Pick a plan - your first {trialTerm, plural, =1 {month is} other {# months are}} free.}\n        other {Pick a plan.}\n      }"},buttonContinue:{id:"buttonContinue",type:"string",placeholderContent:"Continue"},redirectingText:{id:"redirectingText",type:"string",placeholderContent:"Redirecting..."}});function B(e,t){var n,o,r=(null===e||void 0===e||null===(n=e.promotion)||void 0===n?void 0:n.promotionTerm)||"",i=(null===e||void 0===e||null===(o=e.promotion)||void 0===o?void 0:o.promotionTermValue)||0;return t.format(x.pageTitle,{type:r,trialTerm:i})}var H,Z,V,q=n(40705),K=n(30137),F=n(8703),W=n(44596),Y=n(70721),$=n(80827),Q=n(84248),X="SegmentationTabs__tabsContainer__MCgjz",z=n(54147),J=n(32292);!function(e){e.COM="COM",e.EDU="EDU",e.GOV="GOV"}(H||(H={})),function(e){e.TEAM="TEAM",e.INDIVIDUAL="INDIVIDUAL",e.ENTERPRISE="ENTERPRISE"}(Z||(Z={})),function(e){e.DEFAULT="DEFAULT",e.PERPETUAL="PERPETUAL",e.TRIAL="TRIAL",e.BASE="BASE",e.PROMOTION="PROMOTION"}(V||(V={}));var ee=(0,G.defineContents)("ImageContentType",{publishUrl:{id:"_publishUrl",type:"string"},authorUrl:{id:"_authorUrl",type:"string"}}),te=(0,G.defineContents)("SegmentationTab",{title:{id:"title",type:"string"},defaultIcon:{id:"defaultIcon",type:ee},selectedIcon:{id:"selectedIcon",type:ee},marketSegment:{id:"marketSegment",type:"string"},customerSegment:{id:"customerSegment",type:"string"},offerType:{id:"offerType",type:"string"}}),ne=(0,G.defineContents)("SegmentationTabs",{pickerLabel:{id:"pickerLabel",type:"string",placeholderContent:"Show me plans for:"},segmentations:{id:"segmentations",type:te,isArray:!0,placeholderContent:[{title:"Individuals",defaultIcon:{_publishUrl:"https://odin.adobe.com/content/dam/checkout/images/segmentation/segmentation-tabs/individuals-default.svg"},selectedIcon:{_publishUrl:"https://odin.adobe.com/content/dam/checkout/images/segmentation/segmentation-tabs/individuals-selected.svg"},customerSegment:Z.INDIVIDUAL,marketSegment:H.COM},{title:"Students and teachers",defaultIcon:{_publishUrl:"https://odin.adobe.com/content/dam/checkout/images/segmentation/segmentation-tabs/students-and-teachers-default.svg"},selectedIcon:{_publishUrl:"https://odin.adobe.com/content/dam/checkout/images/segmentation/segmentation-tabs/students-and-teachers-selected.svg"},customerSegment:Z.INDIVIDUAL,marketSegment:H.EDU},{title:"Business",defaultIcon:{_publishUrl:"https://odin.adobe.com/content/dam/checkout/images/segmentation/segmentation-tabs/teams-default.svg"},selectedIcon:{_publishUrl:"https://odin.adobe.com/content/dam/checkout/images/segmentation/segmentation-tabs/teams-selected.svg"},customerSegment:Z.TEAM,marketSegment:H.COM},{title:"Schools and universities",defaultIcon:{_publishUrl:"https://odin.adobe.com/content/dam/checkout/images/segmentation/segmentation-tabs/schools-and-universities-default.svg"},selectedIcon:{_publishUrl:"https://odin.adobe.com/content/dam/checkout/images/segmentation/segmentation-tabs/schools-and-universities-selected.svg"},customerSegment:Z.TEAM,marketSegment:H.EDU}]}}),oe=n(11168),re=n(71263),ie=n(17182),ae="SegmentationTab__tabContainer__7dHlg",le="SegmentationTab__tabIcon__Cx15d",ue="SegmentationTab__tabLabel__S2G22",de=l.createElement,ce=function(e){var t=e.id,n=e.isSelected,o=e.label,r=e.defaultIcon,i=e.selectedIcon;return de("div",{className:ae,"data-testid":"segmentation-tab-item-".concat(t)},function(e,t,n){return de("div",{className:le},e?n:t)}(n,r,i),de("span",{className:ue,"data-testid":"segmentation-tab-label"},o))},se=n(52007),fe=n(10315),pe=l.createElement;function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function me(e,t){var n=e._publishUrl;return pe("img",{src:n,role:"presentation",alt:"","aria-labelledby":t})}var ge=(0,fe.n)("segmentationTabs",ne)((function(e){var t=e.onSelect,n=e.segmentations,o=e.selectedTabId,r=(0,z.VB)(z.yr),a=(0,G.useContentEntry)(ne),u=a.get(ne.pickerLabel),d=(0,se.useTrackEvent)(),c=function(e,t){var n=e.get("segmentations");return Array.isArray(n)&&t.map((function(e){var t=e||{},o=t.id,r=t.customerSegment,i=t.marketSegments,a=t.offerType,l=i||[""],u=(0,J.Z)(l,1)[0],d=n.find((function(e){return e.marketSegment===u&&e.customerSegment===r&&(!e.offerType||e.offerType===a)}))||{},c=d.title,s=void 0===c?"":c,f=d.defaultIcon,p=void 0===f?"":f,v=d.selectedIcon;return{id:o,title:s,defaultIcon:p,selectedIcon:void 0===v?"":v,customerSegment:r,marketSegment:u,offerType:a}}))}(a,(0,l.useMemo)((function(){return n.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.offer)}))}),[n])),s=function(e){var n=c.find((function(t){return t.id===e})),r=n.customerSegment,i=n.marketSegment;n.id!==o&&f(r,i),t&&t(e)},f=function(e,t){var n;n=e===k.op.Individual?t===k.ii.Com?L.ps.SEGMENTATION_TAB_INDIVIDUAL:L.ps.SEGMENTATION_TAB_STUDENTS_TEACHERS:t===k.ii.Edu?L.ps.SEGMENTATION_TAB_SCHOOL_UNIVERSITY:L.ps.SEGMENTATION_TAB_TEAM;var o="".concat(n,":").concat(L.ps.SEGMENTATION_TAB_CLICK),r="".concat(n).concat(L.ps.SEGMENTATION_TAB),i=(0,w.W6)(o,r);d(i)};return pe("div",{className:X,"data-testid":"segmentation-tabs-container"},r?pe(oe.cW,{isQuiet:!0,onSelectionChange:s,selectedKey:o,"data-testid":"segmentation-picker","aria-label":"Show me plans for",label:u},c.map((function(e){var t=e||{},n=t.id,o=t.title;return pe(re.ck,{key:n},o)}))):pe(ie.mQ,{selectedKey:o,onSelectionChange:s,"data-testid":"segmentation-tabs","aria-label":"Show me plans for"},pe(ie.td,null,c.map((function(e){var t=e||{},n=t.id,r=t.title,i=t.defaultIcon,a=t.selectedIcon;return pe(re.ck,{key:n},pe(ce,{id:n,isSelected:o===n,label:r,defaultIcon:me(i,r),selectedIcon:me(a,r)}))})))))})),Ee=n(22246),Te=n(36623),be=n(15257),Oe=n(46839),ye=n(69047),Ce=n(30488),Se=n(37703),Ie=n(43773),he=n(23424),_e=n(61274),Ne=n(62452),Ae=n(93633),Pe=n(96909),De=n(5764),ke=n(12510),Re=n(21346),Le=n(60718),Ue=l.createElement;function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Me=(0,fe.n)("segmentationChallengerPage",x)((function(){var e,t,n,o=(0,G.useContentEntry)(x),r=(0,De.R_)(),a=r.goToNextStep,u=r.hasPreviousStep,c=(0,Ne.eR)($.N$.EXTERNAL),v=(0,Ne.nV)(),m=(0,Ne.nV)(U.ki.BUSINESS_TRIAL),g=(0,Se.useDispatch)(),T=(0,ke.useStore)().getState(),b=(0,Se.useSelector)(p.mT),C=(0,Se.useSelector)(y.H0),h=(0,Se.useSelector)(p.n$),H=(0,Se.useSelector)(y.et).userId,Z=(0,Se.useSelector)(O.vl),V=d().app,X=V.PA_CODE,z=V.OFFER_TYPE,J=V.ORIGINAL_OFFER_ID,ee=V.CLIENT_ID,te=V.SVAR,ne=V.ITEMS,oe=Z[X.name],re=Z[z.name],ie=Z[ee.name],ae=Z[te.name],le=(0,Se.useSelector)(O.By)===d().app.LAYOUT.values.SLIM,ue=(0,j.Nk)(),de=ue.setBundleSourceOffer,ce=ue.setIsBundleOfferSelected,fe=(0,Se.useSelector)(j.tT),pe=(0,Se.useSelector)(j.x0),ve=(0,Pe.W)(),me=ve.showApplePay,we=ve.showGooglePay,Me=(0,l.useState)(!1),Ge=Me[0],xe=Me[1],Be=(0,l.useState)(!1),He=Be[0],Ze=Be[1],Ve=(0,l.useState)(!1),qe=Ve[0],Ke=Ve[1],Fe=(0,Ce.useCommerceAppContext)().isInApp,We=(0,Se.useSelector)(p.dm),Ye=We.teamAdminConsoleUrl,$e=We.teamCCPlansUrl,Qe=We.teamCCEduPlansUrl,Xe=We.teamDocumentPlansUrl,ze=(0,_e.d0)(),Je=(0,_e.Af)(),et=(0,Re.z)(),tt=(0,se.useTrackEvent)(),nt=L.ps.PLAN_PICK_ROUTE,ot=(0,he.g)([s.R.P_UC_USE_TEST_CAMPAIGNS,s.R.UC_INTENT_DRIVEN_PRODUCT_CONTENT]),rt=ot[s.R.P_UC_USE_TEST_CAMPAIGNS],it=(0,q.nh)(T,ot),at=(0,Ae.a)(f.VQ,{variables:(0,f.tH)(b,oe,h,re,H,ie,ae,ze,rt)}),lt=at.error,ut=at.loading,dt=at.data,ct=at.previousData,st=ut?ct:dt,ft=(null===st||void 0===st?void 0:st.segmentationBundleOffers)||[],pt=ft.map((function(e){return e.segmentationOffer}))||[],vt=(0,E.V$)(Z,pt),mt=(0,l.useState)(vt),gt=mt[0],Et=mt[1],Tt=(0,Ie.T)(),bt=ft.reduce((function(e,t){var n,o,r=null===t||void 0===t||null===(n=t.segmentationOffer)||void 0===n?void 0:n.offer,i=null===r||void 0===r||null===(o=r.productArrangement)||void 0===o?void 0:o.family;return(null===r||void 0===r?void 0:r.id)===gt&&r.customerSegment===k.op.Individual&&r.marketSegments.includes(k.ii.Com)&&0===(e=t.bundleOffers.map((function(e){var t=e.offer,n=e.comparedWithSourcePrice;return je(je({},t),{},{productArrangement:t.productArrangement,comparedWithSourcePrice:n,targetOfferFamily:i,productName:pe,parentAnalytics:null===r||void 0===r?void 0:r.analytics})}))).length?[r]:e}),[]),Ot=(0,Se.useSelector)(O.yq),yt=bt.filter((function(e){return e.id===(null===Ot||void 0===Ot?void 0:Ot[0])})).length>0,Ct=yt&&null!==(e=null===Ot||void 0===Ot?void 0:Ot[0])&&void 0!==e?e:vt,St=(0,l.useState)(Ct),It=St[0],ht=St[1],_t=Z[ne.name]&&yt?Z:je(je({},Z),{},(0,i.Z)({},ne.name,[{id:vt}])),Nt=(0,l.useState)(_t),At=Nt[0],Pt=Nt[1],Dt={offers:bt,selectedOfferId:It};(0,l.useEffect)((function(){var e=(null===Ot||void 0===Ot?void 0:Ot[0])||Ct;if(!lt&&!ut&&Dt.offers.length>0&&!fe){var t,n=Dt.offers.find((function(t){return(null===t||void 0===t?void 0:t.id)===e}));de(e,null===n||void 0===n||null===(t=n.offerContent)||void 0===t?void 0:t.productName)}}),[Dt.offers.length,Ot,fe,Dt.offers,de,lt,ut,Ct]);var kt=(0,l.useRef)({isDefaultSegmentSelected:!0}),Rt=(0,l.useRef)({isDefaultSelected:!0});(0,l.useEffect)((function(){if(gt){if(kt.current.isDefaultSegmentSelected){Tt(R.P.PAGE_LOAD,{offers:pt,selectedOfferId:gt});var e=(0,be.SQ)(pt,gt,!0),t=e.offer,n=e.selectedPodEvent,o=e.flowTypeAttributes,r=(0,w.Nf)(t,o,T,L.RC.EVENT_STATE_TYPE,n,nt,me,we);et(r)}else{Tt(R.P.SEGMENT_SELECTED,{offers:pt,selectedOfferId:gt});var i=(0,be.SQ)(pt,gt,!1),a=i.offer,l=i.selectedPodEvent,u=i.flowTypeAttributes,d=(0,w.Nf)(a,u,T,L.RC.EVENT_LINK_TYPE,l,nt);et(d)}kt.current.isDefaultSegmentSelected=!1,Dt.offers.length>0&&Ht(It)}}),[gt]);var Lt=null===bt||void 0===bt?void 0:bt.reduce((function(e,t,n){var o,r=null===t||void 0===t?void 0:t.offerContent,a=null===r||void 0===r?void 0:r.productName,l=n+1;return{content:je(je({},e.content),{},(0,i.Z)({},l,r)),productArrangementCodes:je(je({},e.productArrangementCodes),{},(0,i.Z)({},l,t.productArrangementCode)),productLogoUrls:je(je({},e.productLogoUrls),{},(0,i.Z)({},l,r.productIconUrls)),descriptionVariables:je(je({},e.descriptionVariables),{},(o={},(0,i.Z)(o,"product".concat(n+1),a),(0,i.Z)(o,"totalNumberOfBundleOffers",l),o))}}),{}),Ut=(0,G.useContentEntry)(void 0,!0);!function(){if((0,W.$D)(bt)){var e=Ut.get("bundleContentList"),t=Ut.get("bestValueList");if(t&&e){var n=e.items[0].bestValue,o=t.items[0];n.label=o.label,n.variant=o.variant}}}();var wt=null===bt||void 0===bt?void 0:bt.find((function(e){return(null===e||void 0===e?void 0:e.id)===It})),jt=null===wt||void 0===wt?void 0:wt.offerContent,Mt=null===wt||void 0===wt||null===(t=wt.productArrangement)||void 0===t?void 0:t.cloud,Gt=Q.R[null===wt||void 0===wt?void 0:wt.offerType],xt=null===wt||void 0===wt?void 0:wt.productArrangementCode,Bt=null===wt||void 0===wt||null===(n=wt.offerContent)||void 0===n?void 0:n.productIconUrls;function Ht(e){var t=Z[d().app.ITEMS.name],n=Object.assign({},null===t||void 0===t?void 0:t[0]);n&&(n.id=e);var o=je(je({},Z),{},(0,i.Z)({},d().app.ITEMS.name,[n]));ht(e),Pt(o),function(e){var t=(0,be.xy)(Dt.offers,e,Rt.current.isDefaultSelected),n=t.offer,o=t.selectedPodEvent,r=t.flowTypeAttributes,i=(0,w.Nf)(n,r,T,Rt.current.isDefaultSelected?L.RC.EVENT_STATE_TYPE:L.RC.EVENT_LINK_TYPE,o,nt,me,we);et(i),Rt.current.isDefaultSelected=!1}(e)}function Zt(e){return pt.find((function(t){return(null===t||void 0===t?void 0:t.offer.id)===e}))}function Vt(){var e;qt()&&(At[J.name]=null===(e=Kt(k.op.Individual,k.ii.Com))||void 0===e?void 0:e.id);ce(fe!==It);var t=(0,w.W6)("".concat(L.ps.PLAN_PICK_ROUTE,":").concat(L.ps.CONTINUE,":").concat(L.ps.CLICK),L.ps.CONTINUE);tt(t),a(function(){var e,t=je({},At),n=null===Dt||void 0===Dt||null===(e=Dt.offers)||void 0===e?void 0:e.find((function(e){return(null===e||void 0===e?void 0:e.id)===It}));return(0,Ee.m)(t,n,Je),t}())}(0,l.useEffect)((function(){He&&Vt(),Ze(!1)}),[He]);var qt=function(){var e=Kt(k.op.Individual,k.ii.Com),t=Kt(k.op.Individual,k.ii.Edu);return e&&t&&e.productArrangement.family!==t.productArrangement.family&&t.id===It},Kt=function(e,t){var n;return null===(n=pt.find((function(n){return(null===n||void 0===n?void 0:n.offer.customerSegment)===e&&(null===n||void 0===n?void 0:n.offer.marketSegments.includes(t))})))||void 0===n?void 0:n.offer};return Ue(l.Fragment,null,qe?Ue(K.b,{workflow:C?F.q.TEAM_ADMIN:F.q.BUSINESS_TRIAL}):Ue(Le.Ru,{showOneColumnOnDesktop:!le},Ue(Le.uN,null,Ue(N.qv,{logMeta:{componentName:"Bundle",errorLoadingComponent:"StepHeader"}},Ue(Oe.l,{title:B(wt,o)})),Ue(ge,{onSelect:function(e){var t,n;Et(e),ht(e),g((0,Te.$C)(e));var o=null!==(t=null===(n=Zt(e))||void 0===n?void 0:n.offer)&&void 0!==t?t:{},r=o.customerSegment,i=o.marketSegments,a=o.offerType;r===k.op.Individual&&i.includes(k.ii.Edu)&&(Ht(e),Ze(!0)),r===k.op.Team&&(xe(!0),setTimeout((function(){ht(Ct),Et(vt),xe(!1)}),10),setTimeout((function(){!function(e,t){if(C)Fe()?(Ke(!0),v((0,M.AK)(Ye))):c(Ye);else if(e===Q.R.TRIAL){var n,o,r,i=null===(n=pt.find((function(e){return e.offer.id===vt})))||void 0===n||null===(o=n.offer)||void 0===o||null===(r=o.productArrangement)||void 0===r?void 0:r.family,a=(0,M.dy)(t,b,h,i);Fe()?(Ke(!0),m(a)):c(a)}else{var l,u,d,s,f=(null===(l=Zt(t))||void 0===l?void 0:l.offer)||{};d=(null===f||void 0===f||null===(u=f.productArrangement)||void 0===u?void 0:u.cloud)===D.e.DOCUMENT?Xe:null!==f&&void 0!==f&&null!==(s=f.marketSegments)&&void 0!==s&&s.includes(k.ii.Com)?$e:Qe,Fe()?(Ke(!0),v((0,M.AK)(d))):c(d)}}(a,e)}),15))},code:oe,segmentations:pt,selectedTabId:gt}),bt.length>0?Ue("div",{className:S},!it&&Lt&&Ue(A.$G,{bundleDescriptionVariables:Lt.descriptionVariables,locale:h,offerContents:Lt.content,productArrangementCodes:Lt.productArrangementCodes,productLogoUrls:Lt.productLogoUrls}),wt&&Ue(ye.o,{offer:wt}),Ue(A.O0,{onSelectionChange:Ht,bundleData:Dt,addIntentDrivenProductContent:it})):Ge&&Ue(Y.a,{message:o.get(x.redirectingText),showRedirect:!0}),bt.length>0&&Ue(I.s,{ctaLabel:o.get(x.buttonContinue),onCtaClick:Vt,showBackButton:u()})),Ue(Le.Wh,{showOneColumnOnDesktop:!le},Ue(N.qv,{logMeta:{componentName:"SegmentationChallenger",errorLoadingComponent:"AllPlansInclude"}},Ue(_.R,{cloud:Mt,offerType:Gt,offerContent:jt,productArrangementCode:xt,productLogoUrls:Bt})),Ue(N.qv,{logMeta:{componentName:"Segmentation",errorLoadingComponent:"ClarityTerms"}},Ue(P.J,{offer:wt,isInOneColumn:!le})))))})),Ge=(0,fe.n)("allFulfillableItemLists",h.AllFulfillableItemListsContentModel)((function(){return null})).queryCollection,xe=Me.queryCollection;xe.merge(_.R.queryCollection),xe.merge(A.$G.queryCollection),xe.merge(ye.o.queryCollection),xe.merge(A.sH.queryCollection),xe.merge(P.J.queryCollection),xe.merge(ge.queryCollection),xe.merge(Ge);var Be=n(59276),He=n(46576),Ze=n(59205),Ve=l.createElement;function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fe=["/pcs/compare"],We=function(){var e=(0,ke.useStore)(),t=(0,he.g)([s.R.UC_FORCE_SEGMENTATION_CHALLENGER]),n=e.getShouldRenderSegmentationChallenger(t);return(0,He.Vk)(),Ve(n?Me:f.vI,null)},Ye=function(){var e=(0,a.Z)(r().mark((function e(t){var n,o,a,l,u,S,I,h,_,N,A,P,D,k,R,L,U,w,j,M,G,x,B,H,Z,V,q;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S=t.apolloClient,I=t.features,h=t.res,_=t.store,N=t.logger,A=_.getState(),P=(0,p.mT)(A),D=(0,p.n$)(A),k=(0,O.vl)(A)[d().app.PA_CODE.name],R=(0,O.vl)(A)[d().app.OFFER_TYPE.name],L=null===(n=(0,y.et)(A))||void 0===n?void 0:n.userId,U=(0,O.vl)(A)[d().app.CLIENT_ID.name],w=(0,O.vl)(A)[d().app.SVAR.name],j=(0,b.j)(A,I.includes(s.R.UC_FLEXIBLE_PROMOTIONS)),null===h||void 0===h||!h.writableEnded){e.next=12;break}return e.abrupt("return");case 12:return e.next=14,(0,T.C)(A,t.logger);case 14:return M=e.sent,(0,c._H)(M,null===(o=t.req)||void 0===o||null===(a=o.headers)||void 0===a?void 0:a.cookie),e.next=18,S.query({query:f.VQ,variables:(0,f.tH)(P,k,D,R,L,U,w,j,I.includes(s.R.P_UC_USE_TEST_CAMPAIGNS)),context:Ke({},M)});case 18:if(G=e.sent,A=_.getState(),null===G||void 0===G||!G.errors||(r=null===G||void 0===G?void 0:G.errors,(0,v.yC)(r).every((function(e){return Fe.includes(null===e||void 0===e?void 0:e.path)})))){e.next=25;break}if(x={currentRoute:C.Z.SEGMENTATION},!(B=(0,m.S2)(G.errors,S,_,x))){e.next=25;break}return e.abrupt("return",{error:B});case 25:if(null!==(H=null===G||void 0===G||null===(l=G.data)||void 0===l?void 0:l.segmentationBundleOffers)&&void 0!==H&&H.length){e.next=28;break}throw(0,g.n)();case 28:return N.info((0,E.qj)(H),"Segmentation Bundle Offers Response"),Z=(0,E.IG)(null===(u=H[0].segmentationOffer)||void 0===u?void 0:u.offer),_.dispatch((0,Te.fC)(Z)),V=H[0].id,q=Ke(Ke({},(0,O.vl)(A)),{},(0,i.Z)({},d().app.ITEMS.name,[{id:V}])),(0,De.OK)(t,C.Z.SEGMENTATION,{features:I,newQueryParams:q}),e.abrupt("return",{segmentationOfferId:V});case 35:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}();function $e(e,t){e.info((0,E.W1)(t),"Segmentation Offers Response")}We.getInitialProps=function(){var e=(0,a.Z)(r().mark((function e(t){var n,o,a,l,u,v,m,E,S,I,h,_,N,A,P,D,k,R,L,U,w,j,M,G,x,B,H,Z;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I=t.apolloClient,h=t.features,_=t.res,N=t.store,A=t.logger,!N.getShouldRenderSegmentationChallenger((0,i.Z)({},s.R.UC_FORCE_SEGMENTATION_CHALLENGER,null===h||void 0===h?void 0:h.includes(s.R.UC_FORCE_SEGMENTATION_CHALLENGER)))){e.next=4;break}return e.abrupt("return",Ye(t));case 4:return P=N.getState(),D=(0,p.mT)(P),k=(0,p.n$)(P),R=(0,O.vl)(P)[d().app.PA_CODE.name],L=(0,O.vl)(P)[d().app.OFFER_TYPE.name],U=null===(n=(0,y.et)(P))||void 0===n?void 0:n.userId,w=(0,O.vl)(P)[d().app.CLIENT_ID.name],j=(0,O.vl)(P)[d().app.SVAR.name],M=(0,b.j)(P,h.includes(s.R.UC_FLEXIBLE_PROMOTIONS)),e.next=15,(0,T.C)(P,t.logger);case 15:if(G=e.sent,null===_||void 0===_||!_.writableEnded){e.next=18;break}return e.abrupt("return");case 18:return(0,c._H)(G,null===(o=t.req)||void 0===o||null===(a=o.headers)||void 0===a?void 0:a.cookie),e.next=21,I.query({query:f.j_,variables:(0,f.WC)(D,R,k,L,U,w,j,M,null===h||void 0===h?void 0:h.includes(s.R.P_UC_USE_TEST_CAMPAIGNS)),context:Ke({},G)});case 21:if(x=e.sent,P=N.getState(),null!==(B=null===x||void 0===x||null===(l=x.data)||void 0===l||null===(u=l.segmentationOffers)||void 0===u||null===(v=u.result[0])||void 0===v?void 0:v.offers)&&void 0!==B&&B.length){e.next=26;break}throw(0,g.n)();case 26:return $e(A,null===x||void 0===x||null===(m=x.data)||void 0===m?void 0:m.segmentationOffers),H=null===(E=B[0])||void 0===E||null===(S=E.offer)||void 0===S?void 0:S.id,Z=Ke(Ke({},(0,O.vl)(P)),{},(0,i.Z)({},d().app.ITEMS.name,[{id:H}])),(0,De.OK)(t,C.Z.SEGMENTATION,{features:h,newQueryParams:Z}),e.abrupt("return",{segmentationOfferId:H});case 31:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var Qe=Be.G.queryCollection;Qe.merge(Me.queryCollection);var Xe=(0,Ze.O)(Qe,C.Z.SEGMENTATION)(We)},17775:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/segmentation",function(){return n(67281)}])}},function(e){e.O(0,[9774,9794,1549,532,6618,809,7946,3433,2484,5898,3487,7656,6188,1721,9332,6108,2975,4106,4173,6148,473,4088,898,5110,9490,3728,5454,6224,7957,1913,718,9205,78,4054,3390],(function(){return t=17775,e(e.s=t);var t}));var t=e.O();_N_E=t}]);